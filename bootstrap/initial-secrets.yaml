---
apiVersion: v1
kind: Namespace
metadata:
  name: secrets
---
apiVersion: v1
kind: Secret
metadata:
  name: onepassword-secret
  namespace: secrets
  labels:
    kustomize.toolkit.fluxcd.io/prune: disabled
stringData:
  credentials: op://Cloudlab/Cloudlab Credentials File/base64 encoded
  token: op://Cloudlab/Cloudlab Access Token/Anmeldedaten
---
apiVersion: v1
kind: Namespace
metadata:
  name: networking
---
apiVersion: v1
kind: Secret
metadata:
  name: cloudflare-api-token
  namespace: networking
  labels:
    kustomize.toolkit.fluxcd.io/prune: disabled
stringData:
  api-token: op://Cloudlab/cloudflare-api-token/api-token
---
apiVersion: v1
kind: Namespace
metadata:
  name: monitoring
---
apiVersion: v1
kind: Endpoints
metadata:
  name: host-metrics
  namespace: monitoring
subsets:
  - addresses:
      - ip: op://Cloudlab/talos/CP1_IPV4
    ports:
      - name: kubelet
        port: 10255
        protocol: TCP
      - name: node-exporter
        port: 9100
        protocol: TCP